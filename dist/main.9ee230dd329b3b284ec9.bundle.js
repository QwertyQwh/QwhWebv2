!function(){"use strict";var t,n,e,r={6940:function(t,n,e){var r=e(7294),o=e(745),i=e(1730),a=e(6882),c=e(5893);function u(){var t=(0,a.L)("./assets/model/cozy.glb");return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("primitive",{object:t.scene})})}var s=e(4);function l(){var t=(0,s.M4)("light",{ambientIntensity:3,ambientColor:"hsl(40,10%,50%)"}),n=t.ambientIntensity,e=t.ambientColor;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("ambientLight",{castShadow:!1,intensity:n,color:e}),(0,c.jsx)("pointLight",{castShadow:!1,position:[0,5,-2],intensity:5,color:"hsl(48,30%,80%)"})]})}function f(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.z,{}),(0,c.jsx)(l,{}),(0,c.jsx)(u,{})]})}var p=e(1767),d=e(8715);function g(t){var n=t.targetPos,e=t.follow,o=(0,r.useRef)();return(0,r.useEffect)((function(){o.current.position.copy(n)}),[]),(0,d.A)((function(t,r){o.current.position.distanceTo(n)>.01&&e&&o.current.position.lerp(n,.05)})),(0,c.jsx)(p.c,{ref:o,makeDefault:!0})}var y=e(5953),m=e(9477),h=e(1430),b=e(506),v=(0,r.memo)((function(){(0,s.M4)("post",{dispFactor:{value:0,min:0,max:1}}).dispFactor,(0,r.useRef)();return(0,c.jsx)(b.xC,{})}));function j(){return(0,c.jsx)(c.Fragment,{children:"Loading"})}var x=e.p+"assets/glowded9d63eb77cc0b6519b.png",w=e.p+"assets/star4d084d54fcae2a5da412.png",O=e(6030);function S(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,n)||A(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t){return function(t){if(Array.isArray(t))return M(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||A(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,n){if(t){if("string"==typeof t)return M(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?M(t,n):void 0}}function M(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var E=[x,w],I=(0,r.memo)((0,r.forwardRef)((function(t,n){console.log("sticker component rerendered");for(var e=k(Array(E.length)),o=k(Array(E.length)),i=S((0,r.useState)(),2),a=i[0],u=i[1],s=S((0,r.useState)(),2),l=s[0],f=s[1],p=0;p<o.length;p++)o[p]=(0,r.useRef)();return e[0]=a,e[1]=l,(0,r.useImperativeHandle)(n,(function(){return{playAnimation:function(t,n){console.log("playing sticker animation ".concat(t)),console.log(o[t].current.style.top),o[t].current.style.top="".concat(100*n.y,"%"),o[t].current.style.left="".concat(100*n.x,"%"),e[t].play(),e[t].finished.then((function(){e[t].seek(0)}))}}}),[]),(0,r.useEffect)((function(){console.log(o),u((0,O.Z)({targets:"#sticker0",translateX:["-50%","-50%"],translateY:["-50%","-50%"],scale:[0,1],duration:1500,autoplay:!1,easing:"easeInOutSine"})),f((0,O.Z)({targets:"#sticker1",translateX:["-50%","-50%"],translateY:["-50%","-50%"],scale:[0,1],duration:1500,autoplay:!1,easing:"easeInOutSine"}))}),[]),(0,c.jsx)("div",{children:E.map((function(t,n){return(0,c.jsx)("img",{id:"sticker".concat(n),className:"sticker",ref:o[n],src:t},n)}))})})));function T(){var t=(0,r.useRef)(),n=(0,s.M4)("camera",{follow:!1,targetPos:[5,5,0]}),e=n.follow,o=n.targetPos,i=(0,s.M4)("post",{tone:{options:["ACES","Cineon","Reinhard","Linear","None"]},background:"#ffffff"}),a=i.tone,u=i.background;(0,s.M4)("sticker",{test:(0,s.LI)((function(){t.current.playAnimation(1,{x:.7,y:.1})}))}).test;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(r.Suspense,{fallback:(0,c.jsx)(j,{}),children:[(0,c.jsxs)(y.Xz,{dpr:[1,2],gl:{toneMapping:"ACES"==a?m.ACESFilmicToneMapping:"Cineon"==a?m.CineonToneMapping:"Reinhard"==a?m.ReinhardToneMapping:"Linear"==a?m.LinearToneMapping:m.NoToneMapping,outputEncoding:m.LinearEncoding},children:[(0,c.jsx)("color",{args:[u],attach:"background"}),(0,c.jsx)(h.Iy,{position:"top-left"}),(0,c.jsx)(v,{}),(0,c.jsx)(g,{targetPos:new m.Vector3(o[0],o[1],o[2]),follow:e}),(0,c.jsx)(f,{})]}),(0,c.jsx)(I,{ref:t})]})})}o.createRoot(document.getElementById("root")).render((0,c.jsx)(T,{}))}},o={};function i(t){var n=o[t];if(void 0!==n)return n.exports;var e=o[t]={exports:{}};return r[t](e,e.exports,i),e.exports}i.m=r,t=[],i.O=function(n,e,r,o){if(!e){var a=1/0;for(l=0;l<t.length;l++){e=t[l][0],r=t[l][1],o=t[l][2];for(var c=!0,u=0;u<e.length;u++)(!1&o||a>=o)&&Object.keys(i.O).every((function(t){return i.O[t](e[u])}))?e.splice(u--,1):(c=!1,o<a&&(a=o));if(c){t.splice(l--,1);var s=r();void 0!==s&&(n=s)}}return n}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[e,r,o]},i.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(n,{a:n}),n},e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},i.t=function(t,r){if(1&r&&(t=this(t)),8&r)return t;if("object"==typeof t&&t){if(4&r&&t.__esModule)return t;if(16&r&&"function"==typeof t.then)return t}var o=Object.create(null);i.r(o);var a={};n=n||[null,e({}),e([]),e(e)];for(var c=2&r&&t;"object"==typeof c&&!~n.indexOf(c);c=e(c))Object.getOwnPropertyNames(c).forEach((function(n){a[n]=function(){return t[n]}}));return a.default=function(){return t},i.d(o,a),o},i.d=function(t,n){for(var e in n)i.o(n,e)&&!i.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;i.g.importScripts&&(t=i.g.location+"");var n=i.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var e=n.getElementsByTagName("script");e.length&&(t=e[e.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t}(),function(){var t={179:0};i.O.j=function(n){return 0===t[n]};var n=function(n,e){var r,o,a=e[0],c=e[1],u=e[2],s=0;if(a.some((function(n){return 0!==t[n]}))){for(r in c)i.o(c,r)&&(i.m[r]=c[r]);if(u)var l=u(i)}for(n&&n(e);s<a.length;s++)o=a[s],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(l)},e=self.webpackChunkmain=self.webpackChunkmain||[];e.forEach(n.bind(null,0)),e.push=n.bind(null,e.push.bind(e))}(),i.nc=void 0;var a=i.O(void 0,[259],(function(){return i(6940)}));a=i.O(a)}();